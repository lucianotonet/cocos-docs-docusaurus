"use strict";(self.webpackChunkcocos_docs_docusaurus=self.webpackChunkcocos_docs_docusaurus||[]).push([[2684],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>k});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=s(n),u=o,k=d["".concat(p,".").concat(u)]||d[u]||m[u]||r;return n?a.createElement(k,i(i({ref:t},c),{},{components:n})):a.createElement(k,i({ref:t},c))}));function k(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[d]="string"==typeof e?e:o,i[1]=l;for(var s=2;s<r;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},14907:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var a=n(87462),o=(n(67294),n(3905));const r={},i="Extension Templates and Compile Builds",l={unversionedId:"editor/extension/create-extension",id:"editor/extension/create-extension",title:"Extension Templates and Compile Builds",description:"This article will explain in detail how to create an extension with a panel and use it with the extension template provided by Creator.",source:"@site/docs/editor/extension/create-extension.md",sourceDirName:"editor/extension",slug:"/editor/extension/create-extension",permalink:"/pt/docs/editor/extension/create-extension",draft:!1,editUrl:"https://github.com/cocos/cocos-docs/docs/editor/extension/create-extension.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Extend Existing Functionality",permalink:"/pt/docs/editor/extension/contributions"},next:{title:"Definition of Extension",permalink:"/pt/docs/editor/extension/define"}},p={},s=[{value:"Template Types",id:"template-types",level:2},{value:"Option Description",id:"option-description",level:2},{value:"Extension&#39;s Location",id:"extensions-location",level:2},{value:"Project",id:"project",level:3},{value:"Global",id:"global",level:3},{value:"Dependency Installation and Compilation Build",id:"dependency-installation-and-compilation-build",level:2}],c={toc:s},d="wrapper";function m(e){let{components:t,...r}=e;return(0,o.kt)(d,(0,a.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"extension-templates-and-compile-builds"},"Extension Templates and Compile Builds"),(0,o.kt)("p",null,"This article will explain in detail how to create an extension with a panel and use it with the extension template provided by Creator."),(0,o.kt)("p",null,"Select the ",(0,o.kt)("strong",{parentName:"p"},"Extension -> Create Extension")," menu on the main editor menu to open the New Panel."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"create-extension-menu",src:n(59246).Z,width:"600",height:"147"})),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"create-extension-panel",src:n(23434).Z,width:"512",height:"614"})),(0,o.kt)("h2",{id:"template-types"},"Template Types"),(0,o.kt)("p",null,"Cocos Creator provides 4 types of extension templates for quickly creating a new extension project."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Blank"),": empty extension."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"HTML Panel"),": HTML-based extension template with a popup panel."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Vue2.x Panel"),": Vue2.x based extension template with a popup panel."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Vue3.x Panel"),": Vue3.x based extension template with a popup panel.")),(0,o.kt)("p",null,"The extensions created in the above 4 ways differ only in workload and technical selection, and there is no difference in the achievable capabilities of the extensions, so developers can choose according to their needs and technical background."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Note"),": Please refer to the ",(0,o.kt)("inlineCode",{parentName:"p"},"README.md")," file in the corresponding extension package directory after creation.")),(0,o.kt)("h2",{id:"option-description"},"Option Description"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"left"},"Options"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},"Extension's name")),(0,o.kt)("td",{parentName:"tr",align:"left"},"The extension name created must not start with ",(0,o.kt)("inlineCode",{parentName:"td"},"_")," or ",(0,o.kt)("inlineCode",{parentName:"td"},"."),", and cannot contain capital letters. Because extensions become part of the URL, they also cannot contain illegal characters from the URL, ",(0,o.kt)("inlineCode",{parentName:"td"},"."),", ",(0,o.kt)("inlineCode",{parentName:"td"},"'")," and ",(0,o.kt)("inlineCode",{parentName:"td"},","),".")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},"Author")),(0,o.kt)("td",{parentName:"tr",align:"left"},"Author of extension")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},"Editor dependency version")),(0,o.kt)("td",{parentName:"tr",align:"left"},"The Cocos Creator version required by the runtime of the created extension.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},"Show in the manager")),(0,o.kt)("td",{parentName:"tr",align:"left"},"If this item is checked, ",(0,o.kt)("strong",{parentName:"td"},"Extension Manager")," will automatically open and show the created extensions when the extension creation is finished. ",(0,o.kt)("br",null),"If this is unchecked, you can click ",(0,o.kt)("strong",{parentName:"td"},"Extensions -> Extension Manager")," in the menu bar at the top of the editor to view the extensions when they are created.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},"Show in folder")),(0,o.kt)("td",{parentName:"tr",align:"left"},"If this item is checked, the extension will be automatically opened in the system file manager when the extension is created.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("strong",{parentName:"td"},"Extension's location")),(0,o.kt)("td",{parentName:"tr",align:"left"},"The directory where the extension package was created, either ",(0,o.kt)("strong",{parentName:"td"},"Project")," or ",(0,o.kt)("strong",{parentName:"td"},"Global"),".")))),(0,o.kt)("h2",{id:"extensions-location"},"Extension's Location"),(0,o.kt)("h3",{id:"project"},"Project"),(0,o.kt)("p",null,"Apply the extension package to the specified Cocos Creator project, ",(0,o.kt)("strong",{parentName:"p"},"Project")," with the path:"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"${your project address}/extensions")),(0,o.kt)("h3",{id:"global"},"Global"),(0,o.kt)("p",null,"To apply the extension package to all Cocos Creator projects, the ",(0,o.kt)("strong",{parentName:"p"},"Global")," path is:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Windows"),": ",(0,o.kt)("inlineCode",{parentName:"p"},"%USERPROFILE%\\.CocosCreator\\extensions"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"MacOS"),": ",(0,o.kt)("inlineCode",{parentName:"p"},"$HOME/.CocosCreator/extensions")))),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Note"),": ",(0,o.kt)("inlineCode",{parentName:"p"},"Editor.App.path")," can be used to print the global path.")),(0,o.kt)("h2",{id:"dependency-installation-and-compilation-build"},"Dependency Installation and Compilation Build"),(0,o.kt)("p",null,"Once created, open the directory where the extension package is located and execute the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"## Install the dependency module\nnpm install\n# Build\nnpm run build\n")),(0,o.kt)("p",null,"The extension depends on ",(0,o.kt)("strong",{parentName:"p"},"Node.js")," third-party libraries, so you need to run ",(0,o.kt)("inlineCode",{parentName:"p"},"npm install")," in the extension directory before enabling the extension to compile properly."),(0,o.kt)("p",null,"TypeScript can be written with full code hints and is more engineering friendly, so Cocos Creator recommends using a TypeScript-based workflow."),(0,o.kt)("p",null,"The extension templates provided by default are also based on TypeScript and need to be compiled with ",(0,o.kt)("inlineCode",{parentName:"p"},"npm run build")," to run."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Note"),": The extension ",(0,o.kt)("inlineCode",{parentName:"p"},"tsconfig.json")," configuration file has ",(0,o.kt)("inlineCode",{parentName:"p"},"resolveJsonModule")," enabled to get the extension name from the imported extension's ",(0,o.kt)("inlineCode",{parentName:"p"},"package.json"),", so TypeScript requires ",(0,o.kt)("strong",{parentName:"p"},"v4.3")," and above, otherwise, importing ",(0,o.kt)("inlineCode",{parentName:"p"},"json")," outside the root directory, otherwise the compilation result will be wrong path.")))}m.isMDXComponent=!0},59246:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/create-extension-menu-633910570ef81c9a046b12ce3c3b3805.png"},23434:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/create-extension-panel-5c9fd720b5c150ba2fcc96d1a69ef309.png"}}]);