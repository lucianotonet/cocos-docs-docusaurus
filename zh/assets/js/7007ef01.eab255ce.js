"use strict";(self.webpackChunkcocos_docs_docusaurus=self.webpackChunkcocos_docs_docusaurus||[]).push([[4031],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>m});var o=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=o.createContext({}),p=function(e){var n=o.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},c=function(e){var n=p(e.components);return o.createElement(s.Provider,{value:n},e.children)},d="mdxType",f={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},u=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(t),u=r,m=d["".concat(s,".").concat(u)]||d[u]||f[u]||i;return t?o.createElement(m,a(a({ref:n},c),{},{components:t})):o.createElement(m,a({ref:n},c))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,a=new Array(i);a[0]=u;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[d]="string"==typeof e?e:r,a[1]=l;for(var p=2;p<i;p++)a[p]=t[p];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}u.displayName="MDXCreateElement"},17629:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>f,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var o=t(87462),r=(t(67294),t(3905));const i={},a="Extending the Preferences Panel",l={unversionedId:"editor/extension/contributions-preferences",id:"editor/extension/contributions-preferences",title:"Extending the Preferences Panel",description:"Preferences Panel Introduction",source:"@site/docs/editor/extension/contributions-preferences.md",sourceDirName:"editor/extension",slug:"/editor/extension/contributions-preferences",permalink:"/zh/docs/editor/extension/contributions-preferences",draft:!1,editUrl:"https://github.com/cocos/cocos-docs/docs/editor/extension/contributions-preferences.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Customized Messages",permalink:"/zh/docs/editor/extension/contributions-messages"},next:{title:"Extending Project Settings Panel",permalink:"/zh/docs/editor/extension/contributions-project"}},s={},p=[{value:"Preferences Panel Introduction",id:"preferences-panel-introduction",level:2},{value:"Customization panel",id:"customization-panel",level:2},{value:"Two ways of preference setting",id:"two-ways-of-preference-setting",level:3},{value:"Preferences definition",id:"preferences-definition",level:3},{value:"General configuration (properties)",id:"general-configuration-properties",level:3},{value:"Laboratory configuration (laboratory)",id:"laboratory-configuration-laboratory",level:3},{value:"UI Component Configuration",id:"ui-component-configuration",level:2}],c={toc:p},d="wrapper";function f(e){let{components:n,...i}=e;return(0,r.kt)(d,(0,o.Z)({},c,i,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"extending-the-preferences-panel"},"Extending the Preferences Panel"),(0,r.kt)("h2",{id:"preferences-panel-introduction"},"Preferences Panel Introduction"),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"Cocos Creator -> Preferences")," menu can be found in the top menu bar, as shown in the following image:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"preferences",src:t(56936).Z,width:"1060",height:"496"})),(0,r.kt)("p",null,"Clicking on it opens the Preferences panel, as shown below."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"preferences",src:t(92098).Z,width:"1060",height:"729"})),(0,r.kt)("p",null,"The Preferences panel is divided into left and right sides."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The left side shows the names of the feature extensions that provide configuration items."),(0,r.kt)("li",{parentName:"ul"},"On the right side is the operation panel rendered according to the configuration.")),(0,r.kt)("p",null,"Changes on the panel are immediately modified to the corresponding configuration items. For more information about the ",(0,r.kt)("strong",{parentName:"p"},"Preferences")," panel, please refer to the document ",(0,r.kt)("a",{parentName:"p",href:"/zh/docs/editor/preferences/"},"Preferences"),"."),(0,r.kt)("h2",{id:"customization-panel"},"Customization panel"),(0,r.kt)("p",null,"Cocos Creator allows each extension to register its own editor configuration, which is then displayed within the Preferences panel."),(0,r.kt)("p",null,"The preferences control editor-related configurations and will act on all projects. If you want to add only project-specific configurations, please refer to the documentation ",(0,r.kt)("a",{parentName:"p",href:"/zh/docs/editor/extension/contributions-project"},"Custom Project Settings Panel"),"."),(0,r.kt)("h3",{id:"two-ways-of-preference-setting"},"Two ways of preference setting"),(0,r.kt)("p",null,"Preference settings allow to display the configuration in two ways."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"general configuration"),(0,r.kt)("li",{parentName:"ol"},"Lab configuration")),(0,r.kt)("p",null,"Generic settings are displayed directly as tabs, while lab switches are displayed centrally in a separate tab."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"When the functionality provided by the plug-in is more stable it is recommended to place the configuration data within the generic functionality."),(0,r.kt)("li",{parentName:"ul"},"When the functions provided by the plug-in are in the development stage it is recommended that the switch configuration data of the function be placed in the lab configuration.")),(0,r.kt)("h3",{id:"preferences-definition"},"Preferences definition"),(0,r.kt)("p",null,"Extending preferences depend on data configuration and need to be defined in ",(0,r.kt)("inlineCode",{parentName:"p"},"contributions.profile.editor")," first."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note"),": The configuration data in the preferences should be stored in the ",(0,r.kt)("inlineCode",{parentName:"p"},"profile.editor")," field.")),(0,r.kt)("p",null,"Once the data fields are defined, you also need to define the data to be displayed and the UI components to be used to display it in the ",(0,r.kt)("inlineCode",{parentName:"p"},"contributions.preferences")," field. This is shown below."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-JSON5"},'{\n    //`package.json`\n    "name": "first-panel",\n    "contributions": {\n        "profile": {\n            "editor": {\n                "foo": {\n                    "default": 1,\n                    "label":"foo"\n                },\n                "foo1": {\n                    "default": 1,\n                    "label":"foo1"\n                },\n                "foo2": {\n                    "default": false,\n                    "label":"foo2"\n                },\n                "foo3": {\n                    "default": 0,\n                    "label":"foo3"\n                }\n            }\n        },\n        "preferences": {\n            "properties": {\n                "foo1": {\n                    "ui": "ui-slider",\n                    "attributes": {\n                        "min": 0,\n                        "max": 1,\n                        "step": 0.1\n                    }\n                },\n                "foo2": {\n                    "ui": "ui-checkbox"\n                },\n                "foo3": {\n                    "ui": "ui-select",\n                    "items": [\n                        {\n                            "value": 0,\n                            "label": "ITEM 0"\n                        },\n                        {\n                            "value": 1,\n                            "label": "ITEM 1"\n                        },\n                        {\n                            "value": 2,\n                            "label": "ITEM 2"\n                        }\n                    ]\n                }\n            },\n            "laboratory": ["foo"]\n        }    \n    }\n}\n')),(0,r.kt)("p",null,"In the above example, 4 data items are defined in the ",(0,r.kt)("inlineCode",{parentName:"p"},"contributions.profile.project")," field: ",(0,r.kt)("inlineCode",{parentName:"p"},"foo"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"foo1"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"foo2"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"foo3"),"."),(0,r.kt)("p",null,"For more information on how to define ",(0,r.kt)("inlineCode",{parentName:"p"},"profile")," related configuration, please refer to ",(0,r.kt)("a",{parentName:"p",href:"/zh/docs/editor/extension/profile"},"Configuration System"),"."),(0,r.kt)("p",null,"In the ",(0,r.kt)("inlineCode",{parentName:"p"},"contributions.preferences")," field, we define ",(0,r.kt)("inlineCode",{parentName:"p"},"properties")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"laboratory"),"."),(0,r.kt)("h3",{id:"general-configuration-properties"},"General configuration (properties)"),(0,r.kt)("p",null,"The fields defined in ",(0,r.kt)("inlineCode",{parentName:"p"},"properties")," will be displayed independently in a new tab with the same name as the extension in the preferences panel, as follows:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"preferences-tool-custom",src:t(3854).Z,width:"1060",height:"729"})),(0,r.kt)("h3",{id:"laboratory-configuration-laboratory"},"Laboratory configuration (laboratory)"),(0,r.kt)("p",null,"The fields defined in ",(0,r.kt)("inlineCode",{parentName:"p"},"laboratory")," will be displayed in the ",(0,r.kt)("strong",{parentName:"p"},"Laboratory")," tab in the preferences panel, as follows:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"preferences-tool-custom-laboratory",src:t(2813).Z,width:"1060",height:"729"})),(0,r.kt)("h2",{id:"ui-component-configuration"},"UI Component Configuration"),(0,r.kt)("p",null,"This example shows the usage of 4 common UI components in customizing the preferences panel, in theory all UI components with ",(0,r.kt)("inlineCode",{parentName:"p"},"value")," attribute can be used in the preferences panel, please refer to the document ",(0,r.kt)("a",{parentName:"p",href:"/zh/docs/editor/extension/ui"},"UI Components"),"."))}f.isMDXComponent=!0},56936:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/preferences-menu-ad0dc9a8faee18ab6de7e6f6bdb815b1.png"},2813:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/preferences-tool-custom-laboratory-556d59f4691d3eda37c5ee7b4c5eca5f.png"},3854:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/preferences-tool-custom-1bce399d4277e6d144f9a5d3c4e3edc2.png"},92098:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/preferences-tool-26b35725d060844eda64f03251a135db.png"}}]);